<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css"/>
    <script src="https://kit.fontawesome.com/e792db80fb.js" crossorigin="anonymous"></script>

    <title>Weather City</title>
</head>
<body class=<%= bodyColour %>>
    <div class ="form-div container py-5 h-20">
        <center><form class="main-pageform" action="/weather" method="post">
            <input class="search-bar" id="cityInput" type="text" name = "cityName" placeholder="Enter a Location" required autofocus>
            <button class= "search-btn" type="submit"><i class="search-icon fa-solid fa-magnifying-glass fa-1x"></i></button>
        </form></center>
        
        <!-- if it failed -->
        <% if (statCode !== 200) { %>
            <center><img class="locationNotFound" src="img/locationNotFound.png" alt="location search"></center>
            <h5 class="prompt-notFound">Location Not Found</h5>
        <% } else { %>
            <!-- if it went ok -->
            <center><h1 class="location"> <%= locName %></h1></center>
            <center><img class= "weather-desp-img"src=<%= imageURL %> alt="weather description icon"></center>
            <h3 class="temp-disp"> <%= currTemp %><span><sup>°C</sup></span></h3>
            <p class="temp-disp"><%= weatherDesp %></p>
            <p class="feel-like">feels like: <%= feelLike %><span><sup>°C</sup></span><p>

            <center><div class="weather-detail container">
                <div class="row">
                  <div class="col">
                    <p><strong>Humidity:</strong></b></p>
                    <i class="humid fa-solid fa-droplet fa-2x"></i>
                    <p class="humid-p"><%= hum %>%</p>
                  </div>
                  <div class="col">
                    <p><strong>Visibility:</strong></p>
                    <i class="visib fa-solid fa-eye fa-2x"></i>
                    <p><%= visibKM %> km</p>
                  </div>
                  <div class="w-100">
                  </div>
                  <div class="col">
                    <p><strong>wind speed:</strong></p>
                    <i class="windspd fa-solid fa-wind fa-2x"></i>
                    <p><%=windSp%> km/h</p>
                  </div>
                  <div class="col">
                    <p><strong>Pressure:</strong></p>
                    <i class="press fa-solid fa-arrow-down fa-2x"></i>
                    <i class="press fa-solid fa-water fa-2x"></i>
                    <p><%=pres%> kPa</p>
                  </div>
                </div>
              </div></center>
        <% }%>

    </div>
    
</body>
</html>